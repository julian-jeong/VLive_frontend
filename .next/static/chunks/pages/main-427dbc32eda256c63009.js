(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[671],{70:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return On}});var r,i,o,a=t(168),s=t(7294),c=t(4524),l=t(7237),u=t(5675),d=t(4942),p=t(5861),h=t(7757),f=t.n(h),g=t(5503),x=(t(7397),t(9254)),m=t(694),b=t(3172),v=t(3486),j=t(5893);function y(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function N(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?y(Object(t),!0).forEach((function(e){(0,d.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):y(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function w(n){var e=n.onLogin,t=(0,s.useState)(null),r=t[0],i=t[1];if(r)return(0,j.jsx)(b.Z,{message:r.message});function o(){return(o=(0,p.Z)(f().mark((function n(){var t,r,o,a,s,c,l,u;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g.Z.auth().signInWithPopup(new g.Z.auth.GoogleAuthProvider);case 2:return t=n.sent,r=t.user,o={email:r.email,name:r.displayName,photoUrl:r.photoURL},n.prev=5,n.next=8,fetch("".concat(v.b.URL,"/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});case 8:return a=n.sent,n.next=11,a.json();case 11:if(s=n.sent,c=s.result,l=s.data,u=s.message,"error"!==c){n.next=17;break}return n.abrupt("return",i(u));case 17:window.sessionStorage.setItem("user",JSON.stringify(N(N({},l.user),{},{token:l.token}))),e(),n.next=24;break;case 21:n.prev=21,n.t0=n.catch(5),i(n.t0.message);case 24:case"end":return n.stop()}}),n,null,[[5,21]])})))).apply(this,arguments)}return(0,j.jsx)(m.Z,{onClick:function(){return o.apply(this,arguments)},bgColor:x.Z.blue,width:"60%",fontSize:"1.2em",children:"Google"})}function E(n){var e=n.setLogoutError,t=n.onLogout;function r(){return(r=(0,p.Z)(f().mark((function n(){return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,g.Z.auth().signOut();case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),e(n.t0.message);case 8:window.sessionStorage.removeItem("user"),t();case 10:case"end":return n.stop()}}),n,null,[[0,5]])})))).apply(this,arguments)}return(0,j.jsx)(m.Z,{onClick:function(){return r.apply(this,arguments)},width:"60%",bgColor:x.Z.pink,children:"\ub85c\uadf8\uc544\uc6c3"})}function S(n){var e=n.onLogin,t=n.onLogout,r=n.loginStatus,i=(0,s.useState)(null),o=i[0],a=i[1],c=(0,s.useState)(null),l=c[0],d=c[1];return l?(0,j.jsx)(b.Z,{message:l.message}):((0,s.useEffect)((function(){a(JSON.parse(sessionStorage.getItem("user")))}),[r]),(0,j.jsxs)(_,{children:[(0,j.jsxs)(T,{children:[(0,j.jsx)("div",{className:"user-image",children:(0,j.jsx)(u.default,{className:"img",src:o?null===o||void 0===o?void 0:o.photoUrl:"/images/profile.png",alt:"profile-img",width:80,height:80})}),(0,j.jsxs)("div",{className:"profile",children:[(0,j.jsx)("div",{className:"user-email",children:o?null===o||void 0===o?void 0:o.email:"\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4"}),(0,j.jsx)("div",{className:"user-name",children:o?null===o||void 0===o?void 0:o.name:"\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4"})]})]}),(0,j.jsx)(Z,{children:null===o?(0,j.jsx)(w,{onLogin:e}):(0,j.jsx)(E,{setLogoutError:d,onLogout:t})})]}))}var O,_=c.Z.div(r||(r=(0,a.default)(["\n  padding: 0 20px;\n  text-align: center;\n  height: 40%;\n"]))),T=c.Z.div(i||(i=(0,a.default)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 70%;\n\n  .img {\n    border-radius: 50%;\n  }\n\n  .profile {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    width: 60%;\n\n    .user-email,\n    .user-name {\n      width: 80%;\n      padding: 15px 0;\n      font-size: 0.8em;\n      color: gray;\n      border-bottom: 1px solid ",";\n    }\n  }\n"])),(function(n){return n.theme.blue})),Z=c.Z.div(o||(o=(0,a.default)(["\n  width: 100%;\n  height: 30%;\n  margin: auto;\n"]))),L=t(2503);function k(){return I.apply(this,arguments)}function I(){return(I=(0,p.Z)(f().mark((function n(){var e,t,r;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("".concat(v.b.URL,"/episode"),{method:"GET",headers:{"Content-Type":"application/json"}});case 3:return e=n.sent,n.next=6,e.json();case 6:return t=n.sent,r=t.data,n.abrupt("return",r);case 11:return n.prev=11,n.t0=n.catch(0),n.abrupt("return",n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})))).apply(this,arguments)}function A(n){var e=n.closeModal,t=n.episode;return(0,j.jsxs)(R,{children:[(0,j.jsxs)("div",{className:"header",children:[(0,j.jsx)("span",{className:"title",children:t.title}),(0,j.jsx)(m.Z,{onClick:e,children:"\ub098\uac00\uae30"})]}),(0,j.jsx)("video",{autoPlay:!0,children:(0,j.jsx)("source",{src:t.videoUrl})})]})}var C,P,R=c.Z.div(O||(O=(0,a.default)(["\n  width: 100%;\n  height: 100%;\n  border: 1px solid white;\n  background-color: ",";\n  color: white;\n\n  video {\n    width: 90%;\n    height: 80%;\n  }\n\n  .header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    height: 10%;\n    margin-top: 25px;\n    padding: 0 50px;\n\n    .title {\n      font-size: 24px;\n      line-height: 24px;\n    }\n  }\n"])),(function(n){return n.theme.navy})),D=t(4461);function z(){var n=(0,s.useState)(!1),e=n[0],t=n[1],r=(0,s.useState)(null),i=r[0],o=r[1],a=function(){var n=(0,L.ZP)("/episode",k);return{episodes:n.data,error:n.error}}(),c=a.episodes,l=a.error;if(l)return(0,j.jsx)(b.Z,{message:l.message});function d(){t(!1)}return(0,j.jsxs)(J,{children:[(0,j.jsx)("h2",{className:"preview-title",children:"Episode preview"}),(0,j.jsx)(Y,{children:null===c||void 0===c?void 0:c.map((function(n){return(0,j.jsxs)("div",{className:"episode",onClick:function(){return function(n){o(n),t(!0)}(n)},children:[(0,j.jsx)("h3",{className:"episode-title",children:n.title}),(0,j.jsx)("div",{className:"episode-thumbnail",children:(0,j.jsx)(u.default,{src:n.thumbnail,alt:"Episode thumbnail",width:200,height:100})})]},n._id)}))}),e&&(0,j.jsx)(D.Z,{closeModal:d,children:(0,j.jsx)(A,{closeModal:d,episode:i})})]})}var H,U,G,V,M,J=c.Z.div(C||(C=(0,a.default)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  height: 60%;\n  box-sizing: border-box;\n\n  .preview-title {\n    margin: 2px;\n    color: white;\n    font-weight: 500;\n    font-size: 1.3em;\n  }\n\n  .episode:hover {\n    border: 1px solid black;\n    font-size: 1.2em;\n  }\n"]))),Y=c.Z.div(P||(P=(0,a.default)(["\n  .episode-title {\n    margin: 10px 0;\n    font-weight: 300;\n    font-size: 1em;\n    color: white;\n  }\n\n  .episode-thumbnail {\n    margin: 0px auto;\n  }\n"]))),W=t(4651),X=t(6388),B=t(7144);function F(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function q(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?F(Object(t),!0).forEach((function(e){(0,d.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):F(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function K(n){var e=n.isModalOpen,t=n.closeModal,r=(0,s.useState)([]),i=r[0],o=r[1],a=(0,s.useState)({name:"",episodeId:""}),c=a[0],l=a[1],h=(0,W.useRouter)();function g(){return(g=(0,p.Z)(f().mark((function n(e){var t,r,i,o,a,s,l,u,d,p,g,x,m;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),t=c.name,r=c.episodeId,i=JSON.parse(sessionStorage.getItem("user")),n.prev=3,n.next=6,fetch("".concat(v.b.URL,"/channel"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,episodeId:r,host:i._id})});case 6:return o=n.sent,n.next=9,o.json();case 9:if(a=n.sent,s=a.result,l=a.data,u=a.message,d=l._id,"error"!==s){n.next=16;break}return n.abrupt("return",alert(u));case 16:return n.next=18,fetch("".concat(v.b.URL,"/channel/").concat(d),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({state:"enter",userId:i._id})});case 18:return p=n.sent,n.next=21,p.json();case 21:if(g=n.sent,x=g.result2,m=g.message2,"error"!==x){n.next=26;break}throw new Error(m);case 26:(0,X.JW)().emit(B.EVENTS.CREATE_CHANNEL,l),h.push("/channel/".concat(d)),n.next=33;break;case 30:n.prev=30,n.t0=n.catch(3),alert(n.t0.message);case 33:case"end":return n.stop()}}),n,null,[[3,30]])})))).apply(this,arguments)}function x(n){var e=n.currentTarget.id;l(q(q({},c),{},(0,d.Z)({},"episodeId",e)))}return(0,s.useEffect)((function(){function n(){return(n=(0,p.Z)(f().mark((function n(){var e,t,r,i,a;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("".concat(v.b.URL,"/episode"),{method:"GET",headers:{"Content-Type":"application/json"}});case 3:return e=n.sent,n.next=6,e.json();case 6:if(t=n.sent,r=t.result,i=t.data,a=t.message,"error"!==r){n.next=12;break}return n.abrupt("return",alert(a));case 12:o(i),n.next=18;break;case 15:n.prev=15,n.t0=n.catch(0),alert(n.t0.message);case 18:case"end":return n.stop()}}),n,null,[[0,15]])})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[e]),(0,j.jsxs)($,{children:[(0,j.jsxs)("div",{className:"header",children:[(0,j.jsx)("span",{className:"title",children:"\ucc44\ub110\uac1c\uc124 \ud558\uae30"}),(0,j.jsx)("button",{type:"button",onClick:t,children:"\ub098\uac00\uae30"})]}),(0,j.jsxs)(nn,{children:[(0,j.jsxs)(en,{children:[(0,j.jsx)("span",{className:"channel-name",children:"\ubc29 \uc774\ub984\uc744 \uc785\ub825\ud558\uc138\uc694"}),(0,j.jsx)("input",{type:"text",name:"name",placeholder:"\uc544\ubb34\ub098 \ub4e4\uc5b4\uc640\ubcf4\uc2dc\uc9c0",value:c.name,onChange:function(n){var e=n.target,t=e.name,r=e.value;l(q(q({},c),{},(0,d.Z)({},t,r)))}})]}),(0,j.jsxs)(tn,{children:[(0,j.jsx)("span",{className:"episode-select",children:"\uc5f0\uae30\ud560 \uc791\ud488\uc744 \uc120\ud0dd\ud558\uc138\uc694"}),(0,j.jsx)("ul",{className:"episode-list",children:i.map((function(n){return(0,j.jsxs)(rn,{id:n._id,onClick:x,children:[(0,j.jsx)("span",{className:"episode-title",children:n.title}),(0,j.jsx)(u.default,{src:n.thumbnail,alt:"episode-thumbnail",width:200,height:100})]},n._id)}))})]}),(0,j.jsx)("div",{className:"button",children:(0,j.jsx)(m.Z,{type:"submit",onClick:function(n){return g.apply(this,arguments)},children:"\ucc44\ub110 \uac1c\uc124"})})]})]})}var Q,$=c.Z.div(H||(H=(0,a.default)(["\n  width: 100%;\n  height: 100%;\n  border: 1px solid white;\n  background-color: ",";\n  color: white;\n\n  .header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    height: 10%;\n    margin-top: 25px;\n    padding: 0 50px;\n\n    .title {\n      font-size: 24px;\n      line-height: 24px;\n    }\n  }\n"])),(function(n){return n.theme.navy})),nn=c.Z.form(U||(U=(0,a.default)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  height: 90%;\n  padding: 30px 50px;\n  box-sizing: border-box;\n  text-align: left;\n\n  .channel-name {\n    display: block;\n  }\n\n  .button {\n    margin: 10px auto 0 auto;\n  }\n"]))),en=c.Z.div(G||(G=(0,a.default)(["\n  height: 80px;\n\n  .channel-name {\n    font-size: 16px;\n  }\n\n  input {\n    width: 300px;\n    margin-top: 10px;\n    padding: 5px 10px;\n  }\n"]))),tn=c.Z.div(V||(V=(0,a.default)(["\n  margin-top: 10px;\n\n  .episode-select {\n    font-size: 16px;\n  }\n\n  .episode-list {\n    display: grid;\n    grid-template-columns: repeat(3, minmax(100px, 170px));\n    padding: 0;\n  }\n"]))),rn=c.Z.li(M||(M=(0,a.default)(["\n  display: flex;\n  flex-direction: column;\n  height: 100px;\n  margin: 0 15px 20px 0;\n  font-size: 12px;\n  list-style: none;\n  cursor: pointer;\n\n  .episode-title {\n    margin-bottom: 5px;\n  }\n"]))),on=t(5785),an=t(3239),sn=t(1664),cn=t(1657),ln=t(3942);function un(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function dn(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?un(Object(t),!0).forEach((function(e){(0,d.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):un(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function pn(n){var e=n.channelId,t=n.isActive,r=(0,ln.Z)(e),i=r.channel,o=r.error,a=(0,cn.Z)(e),s=a.players,c=a.mutate;if((0,X.sV)(B.EVENTS.LISTEN_ENTER_CHANNEL,(function(n){n.channelId===e&&c((function(e){return dn(dn({},e),{},{players:[].concat((0,on.Z)(e.players),[{user:n}])})}))})),(0,X.sV)(B.EVENTS.LISTEN_EXIT_CHANNEL,(function(n){if(n.channelId===e){var t=s.filter((function(e){return e.userId._id!==n.userId}));c((function(n){return dn(dn({},n),{},{players:t})}))}})),o)return(0,j.jsx)(b.Z,{message:o.message});if(null==e||null==i)return null;function l(){return(l=(0,p.Z)(f().mark((function n(e){var t,r,i,o,a,s;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=JSON.parse(sessionStorage.getItem("user")),r=t._id,n.next=4,fetch("".concat(v.b.URL,"/channel/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({state:"enter",userId:r})});case 4:return i=n.sent,n.next=7,i.json();case 7:if(o=n.sent,a=o.result,s=o.message,"error"!==a){n.next=12;break}throw new Error(s);case 12:n.next=17;break;case 14:return n.prev=14,n.t0=n.catch(0),n.abrupt("return",(0,j.jsx)(b.Z,{message:n.t0.message}));case 17:case"end":return n.stop()}}),n,null,[[0,14]])})))).apply(this,arguments)}return(0,j.jsx)(fn,{isActive:t,children:(0,j.jsx)(sn.default,{href:t?"/channel/".concat(e):"#",passHref:!0,children:(0,j.jsx)("a",{className:t?null:"disable",children:(0,j.jsxs)(m.Z,{className:"entry-button",onClick:function(){return function(n){return l.apply(this,arguments)}(e)},bgColor:t?x.Z.blue:"gray",width:"100px",height:"50px",children:[(0,j.jsx)("span",{className:"entry-text",children:"PLAY"}),(0,j.jsxs)("span",{className:"entry-count",children:[s.length," / ",i.episode.characters.length]})]})})},e)})}var hn,fn=c.Z.div(Q||(Q=(0,a.default)(["\n  line-height: 2px;\n\n  a {\n    text-decoration: none;\n  }\n\n  .entry-button {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n\n    .entry-text {\n      padding: 5%;\n      font-size: 1.6em;\n      font-weight: 800;\n      color: ",";\n    }\n\n    .entry-count {\n      padding: 3%;\n      font-size: 1.1em;\n      font-weight: 700;\n      color: ",";\n    }\n  }\n\n  .disable {\n    cursor: not-allowed;\n    pointer-events: none;\n  }\n"])),(function(n){var e=n.isActive,t=n.theme;return e?t.white:t.darkNavy}),(function(n){var e=n.isActive,t=n.theme;return e?t.navy:t.darkNavy}));function gn(n){var e=n.channel,t=e._id,r=e.name,i=e.episode,o=e.isPlaying,a=n.loginStatus;return(0,j.jsxs)(mn,{isPlaying:o,children:[(0,j.jsx)("div",{className:"state ".concat(o?"onAir":"waiting"),children:o?"ONAIR":"WAITING"}),(0,j.jsxs)("div",{className:"title-box",children:[(0,j.jsx)("h3",{className:"title",children:r}),(0,j.jsx)("p",{className:"episode-title",children:i.title})]}),(0,j.jsx)(pn,{channelId:t,isActive:a,children:"\ud50c\ub808\uc774\uc5b4 \uc785\uc7a5"})]})}var xn,mn=c.Z.div(hn||(hn=(0,a.default)(["\n  position: relative;\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  margin: 60px auto 0;\n  padding: 0 30px;\n  text-align: center;\n  width: 90%;\n  min-width: 400px;\n  height: 150px;\n  border: 2px solid\n    ",";\n  box-shadow: ",";\n  background-color: ",";\n\n  .title-box {\n    text-align: left;\n    width: 450px;\n  }\n\n  .state.onAir,\n  .state.waiting {\n    position: absolute;\n    top: -30px;\n    left: -10px;\n    width: 110px;\n    height: 40px;\n    line-height: 50px;\n    color: gray;\n    font: italic bold 28px/28px godic;\n  }\n\n  .state.onAir {\n    color: ",";\n    text-shadow: ",";\n    font-weight: 900;\n    font: italic bold 32px/32px godic;\n  }\n\n  .title {\n    font-size: 1.3em;\n    font-weight: 700;\n    text-overflow: ellipsis;\n    color: white;\n  }\n\n  .episode-title {\n    margin-top: -12px;\n    font-size: 1.1em;\n    font-weight: 400;\n    text-overflow: ellipsis;\n    color: #bbbbbb;\n  }\n"])),(function(n){var e=n.isPlaying,t=n.theme;return e?t.pink:t.blue}),(function(n){var e=n.isPlaying,t=n.theme;return e?t.pinkShadow:t.blueShadow}),(function(n){var e=n.isPlaying,t=n.theme;return e?t.onAirBg:t.waitingBg}),(function(n){return n.theme.pink}),(function(n){return n.theme.textWhiteShadow})),bn=t(7144).EVENTS;function vn(n){var e=n.loginStatus,t=(0,an.Z)(),r=t.activeChannels,i=t.error,o=t.mutate;if(i)return(0,j.jsx)(b.Z,{message:i.message});return(0,X.sV)(bn.LISTEN_ENTER_CHANNEL,(function(n){r.forEach((function(e){var t=e._id;n.channelId===t&&function(n,e){o((function(t){return t.map((function(t){return t._id===n&&(t.players=t.players.concat([e])),t}))}))}(t,n)}))})),(0,X.sV)(bn.LISTEN_CREATE_CHANNEL,(function(n){var e=Object.assign(n,{isNew:!0});o((function(n){return[].concat((0,on.Z)(n),[e])}))})),(0,X.sV)(bn.LISTEN_END_CHANNEL,(function(n){var e=r.filter((function(e){return e._id!==n}));o(e)})),(0,X.sV)(bn.LISTEN_READY_TO_START,(function(n){var e=r.map((function(e){return e._id===n&&(e.isPlaying=!0),e}));o(e)})),(0,j.jsx)(Nn,{children:null===r||void 0===r?void 0:r.map((function(n){return(0,j.jsx)(gn,{channel:n,loginStatus:e},n._id)}))})}var jn,yn,Nn=c.Z.div(xn||(xn=(0,a.default)(["\n  display: inline-block;\n  width: 75%;\n  min-width: 500px;\n  height: 100%;\n  margin: auto;\n  padding: 20px 60px;\n  overflow-y: scroll;\n  background-image: linear-gradient(\n      rgba(5, 3, 19, 0.801),\n      rgba(5, 3, 19, 0.788),\n      rgba(5, 3, 19, 0.568),\n      rgba(5, 3, 19, 0.788),\n      rgba(5, 3, 19, 0.801)\n    ),\n    url(/images/background.jpg);\n\n  &::-webkit-scrollbar {\n    width: 13px;\n    background-color: ",";\n  }\n\n  &::-webkit-scrollbar-thumb {\n    border-radius: 30px;\n    background-color: ",";\n\n    &:hover {\n      background-color: ",";\n      border: none;\n    }\n  }\n"])),(function(n){return n.theme.darkNavy}),(function(n){return n.theme.blue}),(function(n){return n.theme.white}));function wn(){var n=(0,s.useState)(!1),e=n[0],t=n[1],r=(0,s.useState)(!1),i=r[0],o=r[1];function a(){t(!1)}return(0,s.useEffect)((function(){o(!!sessionStorage.getItem("user"))}),[]),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(l.Z,{openModal:function(){t(!0)},loginStatus:i}),(0,j.jsxs)(En,{children:[(0,j.jsx)(vn,{loginStatus:i}),(0,j.jsxs)(Sn,{children:[(0,j.jsx)(S,{onLogin:function(){return o(!0)},onLogout:function(){return o(!1)},loginStatus:i}),(0,j.jsx)(z,{})]})]}),e&&(0,j.jsx)(D.Z,{closeModal:a,children:(0,j.jsx)(K,{closeModal:a,isModalOpen:e})})]})}var En=c.Z.div(jn||(jn=(0,a.default)(["\n  height: 90vh;\n  display: flex;\n  width: 100%;\n"]))),Sn=c.Z.div(yn||(yn=(0,a.default)(["\n  position: relative;\n  display: inline-block;\n  width: 30%;\n  min-width: 300px;\n  text-align: center;\n  background-size: cover;\n  background-image: linear-gradient(\n      rgba(5, 3, 19, 0.801),\n      rgba(5, 3, 19, 0.788),\n      rgba(5, 3, 19, 0.568),\n      rgba(5, 3, 19, 0.788),\n      rgba(5, 3, 19, 0.801)\n    ),\n    url('/images/11.jpg');\n\n  .disable {\n    cursor: not-allowed;\n    pointer-events: none;\n  }\n"])));function On(){return(0,j.jsx)(wn,{})}},694:function(n,e,t){"use strict";t.d(e,{Z:function(){return p}});var r,i=t(168),o=t(4942),a=t(4925),s=(t(7294),t(4524)),c=t(5893),l=["children"];function u(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function d(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?u(Object(t),!0).forEach((function(e){(0,o.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function p(n){var e=n.children,t=(0,a.Z)(n,l);return(0,c.jsx)(h,d(d({},t),{},{children:e}))}p.defaultProps={type:"button"};var h=s.Z.button(r||(r=(0,i.default)(["\n  all: unset;\n  width: ",";\n  height: ",";\n  padding: 15px 20px;\n  font-size: ",";\n  line-height: ",";\n  font-weight: ",";\n  text-align: center;\n  cursor: pointer;\n  border-radius: ",";\n  background-color: ",";\n  transition-property: scale, translateY;\n  transition: scale 300ms ease-in;\n  color: ",";\n\n  &:hover {\n    transform: scale(0.97);\n    opacity: 80%;\n    background-color: ",";\n    color: ",";\n  }\n"])),(function(n){return n.width||"130px"}),(function(n){return n.height||"20px"}),(function(n){return n.fontSize||"14px"}),(function(n){return n.fontSize||"14px"}),(function(n){return n.fontWeight||"500"}),(function(n){return n.borderRadius||"20px"}),(function(n){var e=n.bgColor,t=n.theme;return e||t.gray}),(function(n){var e=n.color,t=n.theme;return e||t.black}),(function(n){var e=n.hoverBgColor,t=n.theme;return e||t.gray}),(function(n){var e=n.hoverColor,t=n.theme;return e||t.darkNavy}))},3172:function(n,e,t){"use strict";t.d(e,{Z:function(){return a}});t(7294);var r=t(1664),i=t(694),o=t(5893);function a(n){var e=n.message;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("p",{children:e}),(0,o.jsx)(r.default,{href:"/",passHref:!0,children:(0,o.jsx)("a",{children:(0,o.jsx)(i.Z,{color:"red",children:"\ud648\uc73c\ub85c \ub3cc\uc544\uac00\uae30"})})})]})}},7237:function(n,e,t){"use strict";t.d(e,{Z:function(){return c}});var r,i=t(168),o=(t(7294),t(1664)),a=t(4524),s=t(5893);function c(n){var e=n.openModal,t=n.loginStatus;return(0,s.jsxs)(l,{loginStatus:t,children:[(0,s.jsx)(o.default,{href:"/main",passHref:!0,children:(0,s.jsx)("span",{className:"nav",children:"CHANNEL"})}),(0,s.jsx)(o.default,{href:"/",passHref:!0,children:(0,s.jsx)("span",{className:"nav logo",children:"VLIVE"})}),(0,s.jsx)("span",{href:"/channel",className:"nav create-channel",onClick:e,children:"CREATE CHANNEL"})]})}var l=a.Z.header(r||(r=(0,i.default)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n  height: 10vh;\n  text-align: center;\n  background-color: ",";\n  box-shadow: ",";\n\n  .nav {\n    width: 33.3vh;\n    box-sizing: border-box;\n    cursor: pointer;\n    font-weight: 600;\n    font-size: 1.1em;\n    color: ",";\n\n    :hover {\n      color: ",";\n    }\n  }\n\n  .logo {\n    font-weight: 800;\n    font-size: 2em;\n    color: ",";\n  }\n\n  .app-name {\n    margin: 0;\n    padding: 18px 40px;\n    height: 100%;\n    line-height: 4vh;\n    font-size: 40px;\n    color: ",";\n  }\n\n  .create-channel {\n    cursor: ",";\n    pointer-events: ",";\n  }\n"])),(function(n){return n.theme.darkNavy}),(function(n){return n.theme.blueShadow}),(function(n){return n.theme.white}),(function(n){return n.theme.blue}),(function(n){return n.theme.blue}),(function(n){return n.theme.blue}),(function(n){return n.loginStatus?"pointer":"not-allowed"}),(function(n){return n.loginStatus?"auto":"none"}))},4461:function(n,e,t){"use strict";t.d(e,{Z:function(){return l}});var r,i,o,a=t(168),s=t(4524),c=t(5893);function l(n){var e=n.children,t=n.closeModal;return(0,c.jsxs)(u,{children:[(0,c.jsx)(d,{onClick:t}),(0,c.jsx)(p,{children:e})]})}var u=s.Z.div(r||(r=(0,a.default)(["\n  width: 100%;\n  height: 100%;\n"]))),d=s.Z.div(i||(i=(0,a.default)(["\n  z-index: 99;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  background: rgba(0, 0, 0, 0.8);\n"]))),p=s.Z.div(o||(o=(0,a.default)(["\n  z-index: 999;\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  width: 600px;\n  height: 450px;\n  text-align: center;\n  background-color: white;\n  transform: translate(-50%, -50%);\n  box-shadow: 0px 1px 5px 3px rgba(0, 0, 0, 0.1);\n"])))},3486:function(n){n.exports.b={URL:"http://localhost:8000"}},7144:function(n){n.exports.EVENTS={ENTER_CHANNEL:"enter channel",LISTEN_ENTER_CHANNEL:"listen enter channel",LISTEN_ENTER_CHANNEL_LIST:"listen enter channel list",CREATE_CHANNEL:"create channel",LISTEN_CREATE_CHANNEL:"listen create channel",EXIT_CHANNEL:"exit channel",LISTEN_EXIT_CHANNEL:"listen exit channel",LISTEN_EXIT_CHANNEL_LIST:"listen exit channel list",END_CHANNEL:"end channel",LISTEN_END_CHANNEL:"listen end channel",NEW_CHAT:"new chat",LISTEN_NEW_CHAT:"listen new chat",PLAYER_READY:"player ready",LISTEN_PLAYER_READY:"listen player ready",SEND_SIGNAL:"send signal",RETURN_SIGNAL:"return signal",LISTEN_SEND_SIGNAL:"listen send signal",LISTEN_RETURN_SIGNAL:"listen return signal",ALL_USER:"all user",SENDING_SIGNAL:"sending signal",RETURNING_SIGNAL:"returning signal",USER_JOINED:"user joined",RECEIVING_RETURNED_SIGNAL:"receiving returned signal",LISTEN_GAME_START:"listen game start",READY_TO_START:"start game",LISTEN_READY_TO_START:"listen start game"}},3942:function(n,e,t){"use strict";t.d(e,{Z:function(){return l}});var r=t(5861),i=t(7757),o=t.n(i),a=t(2503),s=t(3486);function c(){return(c=(0,r.Z)(o().mark((function n(e){var t,r,i;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("".concat(s.b.URL,"/channel/").concat(e),{method:"GET",headers:{"Content-Type":"application/json"}});case 3:return t=n.sent,n.next=6,t.json();case 6:return r=n.sent,i=r.data,n.abrupt("return",i);case 11:n.prev=11,n.t0=n.catch(0),alert(n.t0.message);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})))).apply(this,arguments)}function l(n){var e=(0,a.ZP)(n?"/channel/".concat(n):null,(function(){return function(n){return c.apply(this,arguments)}(n)}));return{channel:e.data,error:e.error,mutate:e.mutate}}},3239:function(n,e,t){"use strict";t.d(e,{Z:function(){return u}});var r=t(5861),i=t(7757),o=t.n(i),a=t(2503),s=t(3486);function c(){return l.apply(this,arguments)}function l(){return(l=(0,r.Z)(o().mark((function n(){var e,t,r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("".concat(s.b.URL,"/channel"),{method:"GET",headers:{"Content-Type":"application/json"}});case 3:return e=n.sent,n.next=6,e.json();case 6:return t=n.sent,r=t.data,n.abrupt("return",r);case 11:return n.prev=11,n.t0=n.catch(0),n.abrupt("return",n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})))).apply(this,arguments)}function u(){var n=(0,a.ZP)("/channel",c),e=n.data,t=n.error,r=n.mutate,i=[],o=[];return null===e||void 0===e||e.forEach((function(n){n.isActive?o.push(n):i.push(n)})),{historyChannels:i,activeChannels:o,error:t,mutate:r}}},1657:function(n,e,t){"use strict";t.d(e,{Z:function(){return i}});var r=t(3942);function i(n){var e=(0,r.Z)(n),t=e.channel,i=e.error,o=e.mutate;return{players:t?t.players:[],error:i,mutate:o}}},6388:function(n,e,t){"use strict";t.d(e,{cH:function(){return s},sV:function(){return c},JW:function(){return l}});var r=t(7294),i=t(8594),o=null,a=!1,s=function(){var n;return null===(n=o)||void 0===n?void 0:n.id};function c(n,e){return(0,r.useEffect)((function(){if(!a)return a=!0,console.log("before fetch",o),fetch("/api/socketio").finally((function(){o=(0,i.ZP)(),console.log("finally fetch",o),o.on(n,e)})),function(){var t;null===(t=o)||void 0===t||t.off(n,e)}}),[n,e]),o}var l=function(){return o}},9334:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/main",function(){return t(70)}])}},function(n){n.O(0,[350,675,175,774,888,179],(function(){return e=9334,n(n.s=e);var e}));var e=n.O();_N_E=e}]);